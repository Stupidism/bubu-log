---
description: 换尿布功能 - 记录大小便情况
globs:
  - "src/components/forms/DiaperForm.tsx"
alwaysApply: false
---

# 换尿布

记录宝宝的排泄情况，包括大便、小便、颜色和量。

## Core Components

**数据模型:**
- `Activity` - type: `DIAPER`
- `hasPoop` - 是否有大便
- `hasPee` - 是否有小便
- `poopColor` - 大便颜色（枚举）
- `peeAmount` - 小便量（枚举）

**枚举:**
```prisma
enum PoopColor {
  YELLOW  // 黄色（正常）
  GREEN   // 绿色
  BROWN   // 棕色
  BLACK   // 黑色（需注意）
  WHITE   // 白色（需注意）
  RED     // 红色（需就医）
}

enum PeeAmount {
  SMALL   // 少
  MEDIUM  // 中
  LARGE   // 多
}
```

**组件:**
- `DiaperForm` - 换尿布表单

## How It Works

### 记录流程
1. 点击"换尿布"按钮
2. 打开 `DiaperForm`
3. 选择大便/小便（可多选）
4. 如有大便，选择颜色
5. 如有小便，选择量
6. 确认记录

### UI 设计
- 使用 Lucide 图标（Baby 图标表示大便，Droplet 表示小便）
- 颜色选择使用色块按钮
- 小便量使用水滴数量表示（1-3 个）

## Key Files
- `src/components/forms/DiaperForm.tsx` - 换尿布表单
- `prisma/schema.prisma` - PoopColor, PeeAmount 枚举

## Future Improvements
- 大便照片上传（异常情况记录）
- 每日排便统计
- 异常颜色提醒（红色/白色/黑色自动提示就医）
- 便秘提醒（超过X小时未排便）
